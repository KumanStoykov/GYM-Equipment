"use strict";(self.webpackChunkgym_equipment=self.webpackChunkgym_equipment||[]).push([[794],{6794:(U,d,l)=>{l.r(d),l.d(d,{AuthModule:()=>he});var p=l(6895),C=l(4466),g=l(6879),s=l(433),u=l(6477),c=l(9646),v=l(4986),A=l(7272),w=l(5698),I=l(8502),Q=l(9718),L=l(5577);function T(t,i){return i?n=>(0,A.z)(i.pipe((0,w.q)(1),(0,I.l)()),n.pipe(T(t))):(0,L.z)((n,r)=>t(n,r).pipe((0,w.q)(1),(0,Q.h)(n)))}var R=l(9751),Y=l(3532),S=l(1165);function P(t=0,i,n=v.P){let r=-1;return null!=i&&((0,Y.K)(i)?n=i:r=i),new R.y(o=>{let a=(0,S.q)(t)?+t-n.now():t;a<0&&(a=0);let m=0;return n.schedule(function(){o.closed||(o.next(m++),0<=r?this.schedule(void 0,r):o.complete())},a)})}function f(t,i=v.z){const n=P(t,i);return T(()=>n)}var _=l(4004);function M(){return t=>(0,c.of)({}).pipe(f(1e3),(0,_.U)(()=>/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(t.value)?null:{invalidEmail:!0}))}function F(t){return i=>(0,c.of)({}).pipe(f(1e3),(0,_.U)(()=>i.value.length>=t?null:{minLength:!0}))}var e=l(4650),Z=l(384),b=l(2997),O=l(9047),y=l(7259),N=l(9475),q=l(2687);function E(t,i){if(1&t&&(e.TgZ(0,"div",1)(1,"div",2)(2,"p",3),e._uU(3),e.qZA(),e._UZ(4,"p",4),e.qZA()()),2&t){const n=e.oxw();e.xp6(3),e.Oqu(n.errorMessage)}}let J=(()=>{class t{constructor(){this.errorMessage="",this.closeNotification$=function z(t=0,i=v.z){return t<0&&(t=0),P(t,t,i)}(5e3).pipe((0,_.U)(()=>this.isOpen=!1)),this.isOpen=!0,this.icons={faCircleXmark:q.WA2}}ngOnInit(){}ngOnChanges(n){this.toastSubscription=this.closeNotification$.subscribe(()=>this.isOpen)}ngOnDestroy(){this.toastSubscription.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-notification"]],inputs:{errorMessage:"errorMessage"},features:[e.TTD],decls:1,vars:1,consts:[["class","not-wrap",4,"ngIf"],[1,"not-wrap"],[1,"message-wrap"],[1,"not-error"],[1,"toast-progress","my-fixed-progress"]],template:function(n,r){1&n&&e.YNc(0,E,5,1,"div",0),2&n&&e.Q6J("ngIf",r.isOpen)},dependencies:[p.O5],styles:[".not-wrap[_ngcontent-%COMP%]{animation:showFromRight .7s 0s 1 normal forwards}.message-wrap[_ngcontent-%COMP%]{position:absolute;top:50%;right:50%;transform:translate(50%,-50%);background:#dd1e31;border:1px solid rgba(221,30,49,.3);border-radius:3px;width:18rem;z-index:100;box-shadow:#64646f33 0 7px 29px}.not-error[_ngcontent-%COMP%]{color:#fff;font-weight:400;padding:1rem}.toast-progress[_ngcontent-%COMP%]{background:#222222;opacity:.4;height:4px;transform-origin:left center;position:relative;top:1px;margin-left:0}.my-fixed-progress[_ngcontent-%COMP%]{animation:xScale linear 5s forwards}@media all and (max-width: 300px){.message-wrap[_ngcontent-%COMP%]{width:15rem}.not-error[_ngcontent-%COMP%]{padding:.75rem}}@keyframes showFromRight{0%{transform:scale(0);opacity:.1}to{transform:scale(1)}}@keyframes xScale{0%{transform:scaleX(0)}}"]}),t})();function B(t,i){if(1&t&&e._UZ(0,"app-notification",9),2&t){const n=e.oxw();e.Q6J("errorMessage",n.error)}}function G(t,i){1&t&&e._UZ(0,"app-loader")}function X(t,i){1&t&&(e.TgZ(0,"p",16),e._uU(1," Email is required! "),e.qZA())}function j(t,i){1&t&&(e.TgZ(0,"p",16),e._uU(1," Email is invalid! "),e.qZA())}function k(t,i){if(1&t&&(e.ynx(0),e.YNc(1,X,2,0,"p",15),e.YNc(2,j,2,0,"p",15),e.BQk()),2&t){const n=e.oxw(2);let r,o;e.xp6(1),e.Q6J("ngIf",null==(r=n.loginForm.get("email"))||null==r.errors?null:r.errors.required),e.xp6(1),e.Q6J("ngIf",null==(o=n.loginForm.get("email"))||null==o.errors?null:o.errors.invalidEmail)}}function V(t,i){1&t&&(e.TgZ(0,"p",16),e._uU(1," Password is required! "),e.qZA())}function D(t,i){1&t&&(e.TgZ(0,"p",16),e._uU(1," Password must be at least 6 character! "),e.qZA())}function K(t,i){if(1&t&&(e.ynx(0),e.YNc(1,V,2,0,"p",15),e.YNc(2,D,2,0,"p",15),e.BQk()),2&t){const n=e.oxw(2);let r,o;e.xp6(1),e.Q6J("ngIf",null==(r=n.loginForm.get("password"))||null==r.errors?null:r.errors.required),e.xp6(1),e.Q6J("ngIf",null==(o=n.loginForm.get("password"))||null==o.errors?null:o.errors.minLength)}}function $(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"form",10),e.NdJ("ngSubmit",function(){e.CHM(n);const o=e.oxw();return e.KtG(o.onSubmit())}),e.TgZ(1,"div",11),e._UZ(2,"input",12),e.YNc(3,k,3,2,"ng-container",5),e.qZA(),e.TgZ(4,"div",11),e._UZ(5,"input",13),e.YNc(6,K,3,2,"ng-container",5),e.qZA(),e.TgZ(7,"button",14),e._uU(8,"Login"),e.qZA()()}if(2&t){const n=e.oxw();let r,o,a,m;e.Q6J("formGroup",n.loginForm),e.xp6(2),e.Q6J("ngClass",null!=(r=n.loginForm.get("email"))&&r.invalid&&null!=(r=n.loginForm.get("email"))&&r.touched?"input-err":null),e.xp6(1),e.Q6J("ngIf",(null==(o=n.loginForm.get("email"))?null:o.invalid)&&(null==(o=n.loginForm.get("email"))?null:o.touched)),e.xp6(2),e.Q6J("ngClass",null!=(a=n.loginForm.get("password"))&&a.invalid&&null!=(a=n.loginForm.get("password"))&&a.touched?"input-err":null),e.xp6(1),e.Q6J("ngIf",(null==(m=n.loginForm.get("password"))?null:m.invalid)&&(null==(m=n.loginForm.get("password"))?null:m.touched))}}let W=(()=>{class t{constructor(n,r,o,a){this.fb=n,this.authService=r,this.store=o,this.router=a,this.heroTitle="ACCOUNT",this.pageTitle="LOGIN",this.error="",this.isLoading=!1,this.loginForm=this.fb.group({email:["",[s.kI.required],M()],password:["",[s.kI.required],F(6)]})}onSubmit(){if(this.loginForm.invalid||this.loginForm.pending)return;const n=this.loginForm.value.email,r=this.loginForm.value.password;this.isLoading=!0,this.authService.login({email:n,password:r}).subscribe({next:o=>{this.store.dispatch((0,u.zU)({_id:o._id,email:o.email,firstName:o.firstName||"",lastName:o.lastName||"",phone:o.phone||"",address:o.address||"",isAdmin:o.isAdmin})),this.isLoading=!1,this.loginForm.reset(),this.router.navigate(["/"])},error:o=>{this.loginForm.get("password")?.reset(),this.isLoading=!1,this.error=o.error.message}})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(s.qu),e.Y36(Z.e),e.Y36(b.yh),e.Y36(g.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],decls:12,vars:5,consts:[[3,"heroPageTitle"],[3,"errorMessage",4,"ngIf"],[1,"login","container"],[1,"form-wrap"],[3,"pageTitle"],[4,"ngIf"],["class","form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"have-account"],["routerLink","/auth/register"],[3,"errorMessage"],[1,"form",3,"formGroup","ngSubmit"],[1,"input-row"],["placeholder","Email *","id","email","type","text","formControlName","email",1,"input-field",3,"ngClass"],["placeholder","Password *","id","password","type","password","formControlName","password",1,"input-field",3,"ngClass"],["type","submit",1,"btn"],["class","error",4,"ngIf"],[1,"error"]],template:function(n,r){1&n&&(e._UZ(0,"app-page-hero",0),e.YNc(1,B,1,1,"app-notification",1),e.TgZ(2,"section",2)(3,"div",3),e._UZ(4,"app-page-title",4),e.YNc(5,G,1,0,"app-loader",5),e.YNc(6,$,9,5,"form",6),e.TgZ(7,"div",7)(8,"p"),e._uU(9," Don't have an account? "),e.TgZ(10,"a",8),e._uU(11,"Sign up"),e.qZA()()()()()),2&n&&(e.Q6J("heroPageTitle",r.heroTitle),e.xp6(1),e.Q6J("ngIf",r.error),e.xp6(3),e.Q6J("pageTitle",r.pageTitle),e.xp6(1),e.Q6J("ngIf",r.isLoading),e.xp6(1),e.Q6J("ngIf",!r.isLoading))},dependencies:[p.mk,p.O5,g.yS,O.R,y.N,N.T,J,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u],styles:['.form-wrap[_ngcontent-%COMP%]{background:#fff;margin:-3rem auto 12rem}.border-line[_ngcontent-%COMP%]{padding-top:3rem}.border-line[_ngcontent-%COMP%]:before{content:"";position:absolute;bottom:2px;left:0;height:1px;width:100%;transform:scaleX(.45);background-color:#777}.border-line[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;height:1px;width:100%;transform:scale(.45);background-color:#777}.form[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;margin-top:5rem;padding:0 1rem}.input-row[_ngcontent-%COMP%]{position:relative;width:100%;max-width:30rem;display:flex;flex-direction:column;margin-bottom:2.5rem}.input-field[_ngcontent-%COMP%]{width:100%;padding:12px 10px;border:1px solid #e4e4e4;outline:none;border-radius:3px}.input-field[_ngcontent-%COMP%]:hover{border:1px solid #2a272a}.input-field[_ngcontent-%COMP%]:focus{box-shadow:0 0 3px 1px #00000078;border:1px solid #2a272a}.input-err[_ngcontent-%COMP%]{border:1px solid #dd1e31}.input-err[_ngcontent-%COMP%]:focus{box-shadow:0 0 3px 1px #dd1e3178}.error[_ngcontent-%COMP%]{color:#dd1e31}.have-account[_ngcontent-%COMP%]{text-align:center;margin:1rem}.have-account[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#2a272a;font-weight:700;transition:all .3s ease-in-out}.have-account[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fc902e}']}),t})();var H=l(7579),ee=l(2722);function te(t,i){let n=null;return r=>(0,c.of)({}).pipe(f(500),(0,_.U)(()=>{n&&(n.unsubscribe(),n=null);const o=t();return o?(n=o.valueChanges.pipe((0,ee.R)(i),f(500)).subscribe({next:()=>{r.updateValueAndValidity()},complete:()=>{n=null}}),o?.value===r?.value?null:{equalValue:!0}):null}))}function ne(t,i){if(1&t&&e._UZ(0,"app-notification",9),2&t){const n=e.oxw();e.Q6J("errorMessage",n.error)}}function oe(t,i){1&t&&e._UZ(0,"app-loader")}function re(t,i){1&t&&(e.TgZ(0,"p",17),e._uU(1," Email is required! "),e.qZA())}function ie(t,i){1&t&&(e.TgZ(0,"p",17),e._uU(1," Email is invalid! "),e.qZA())}function le(t,i){if(1&t&&(e.ynx(0),e.YNc(1,re,2,0,"p",16),e.YNc(2,ie,2,0,"p",16),e.BQk()),2&t){const n=e.oxw(2);let r,o;e.xp6(1),e.Q6J("ngIf",null==(r=n.registerForm.get("email"))||null==r.errors?null:r.errors.required),e.xp6(1),e.Q6J("ngIf",null==(o=n.registerForm.get("email"))||null==o.errors?null:o.errors.invalidEmail)}}function se(t,i){1&t&&(e.TgZ(0,"p",17),e._uU(1," Password is required! "),e.qZA())}function ae(t,i){1&t&&(e.TgZ(0,"p",17),e._uU(1," Password must be at least 6 character! "),e.qZA())}function pe(t,i){if(1&t&&(e.ynx(0),e.YNc(1,se,2,0,"p",16),e.YNc(2,ae,2,0,"p",16),e.BQk()),2&t){const n=e.oxw(2);let r,o;e.xp6(1),e.Q6J("ngIf",null==(r=n.registerForm.get("password"))||null==r.errors?null:r.errors.required),e.xp6(1),e.Q6J("ngIf",null==(o=n.registerForm.get("password"))||null==o.errors?null:o.errors.minLength)}}function ge(t,i){1&t&&(e.TgZ(0,"p",17),e._uU(1," Re-password is required! "),e.qZA())}function me(t,i){1&t&&(e.TgZ(0,"p",17),e._uU(1," Password and Re-password must be equal! "),e.qZA())}function ue(t,i){1&t&&(e.TgZ(0,"p",17),e._uU(1," Re-password must be at least 6 character! "),e.qZA())}function ce(t,i){if(1&t&&(e.ynx(0),e.YNc(1,ge,2,0,"p",16),e.YNc(2,me,2,0,"p",16),e.YNc(3,ue,2,0,"p",16),e.BQk()),2&t){const n=e.oxw(2);let r,o,a;e.xp6(1),e.Q6J("ngIf",null==(r=n.registerForm.get("repeatPassword"))||null==r.errors?null:r.errors.required),e.xp6(1),e.Q6J("ngIf",null==(o=n.registerForm.get("repeatPassword"))||null==o.errors?null:o.errors.equalValue),e.xp6(1),e.Q6J("ngIf",null==(a=n.registerForm.get("repeatPassword"))||null==a.errors?null:a.errors.minLength)}}function de(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"form",10),e.NdJ("ngSubmit",function(){e.CHM(n);const o=e.oxw();return e.KtG(o.onSubmit())}),e.TgZ(1,"div",11),e._UZ(2,"input",12),e.YNc(3,le,3,2,"ng-container",5),e.qZA(),e.TgZ(4,"div",11),e._UZ(5,"input",13),e.YNc(6,pe,3,2,"ng-container",5),e.qZA(),e.TgZ(7,"div",11),e._UZ(8,"input",14),e.YNc(9,ce,4,3,"ng-container",5),e.qZA(),e.TgZ(10,"button",15),e._uU(11," Register "),e.qZA()()}if(2&t){const n=e.oxw();let r,o,a,m,h,x;e.Q6J("formGroup",n.registerForm),e.xp6(2),e.Q6J("ngClass",null!=(r=n.registerForm.get("email"))&&r.invalid&&null!=(r=n.registerForm.get("email"))&&r.touched?"input-err":null),e.xp6(1),e.Q6J("ngIf",(null==(o=n.registerForm.get("email"))?null:o.invalid)&&(null==(o=n.registerForm.get("email"))?null:o.touched)),e.xp6(2),e.Q6J("ngClass",null!=(a=n.registerForm.get("password"))&&a.invalid&&null!=(a=n.registerForm.get("password"))&&a.touched?"input-err":null),e.xp6(1),e.Q6J("ngIf",(null==(m=n.registerForm.get("password"))?null:m.invalid)&&(null==(m=n.registerForm.get("password"))?null:m.touched)),e.xp6(2),e.Q6J("ngClass",null!=(h=n.registerForm.get("repeatPassword"))&&h.invalid&&null!=(h=n.registerForm.get("repeatPassword"))&&h.touched?"input-err":null),e.xp6(1),e.Q6J("ngIf",(null==(x=n.registerForm.get("repeatPassword"))?null:x.invalid)&&(null==(x=n.registerForm.get("repeatPassword"))?null:x.touched)),e.xp6(1),e.Q6J("disabled",n.registerForm.pending)}}const fe=[{path:"",children:[{path:"login",pathMatch:"full",component:W},{path:"register",component:(()=>{class t{constructor(n,r,o,a){this.fb=n,this.authService=r,this.router=o,this.store=a,this.heroTitle="ACCOUNT",this.pageTitle="REGISTER",this.killSubscription=new H.x,this.error="",this.isLoading=!1,this.registerForm=this.fb.group({email:["",[s.kI.required],M()],password:["",[s.kI.required],F(6)],repeatPassword:["",[s.kI.required],te(()=>this.registerForm?.get("password"),this.killSubscription)]})}onSubmit(){if(this.registerForm.invalid||this.registerForm.pending)return;const n=this.registerForm.value.email,r=this.registerForm.value.password;this.isLoading=!0,this.authService.register({email:n,password:r}).subscribe({next:o=>{this.store.dispatch((0,u.zU)({_id:o._id,email:o.email,firstName:o.firstName||"",lastName:o.lastName||"",phone:o.phone||"",address:o.address||"",isAdmin:o.isAdmin})),this.isLoading=!1,this.registerForm.reset(),this.router.navigate(["/"])},error:o=>{this.registerForm.get("password")?.reset(),this.registerForm.get("repeatPassword")?.reset(),this.isLoading=!1,this.error=o.error.message}})}ngOnDestroy(){this.killSubscription.next(),this.killSubscription.complete()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(s.qu),e.Y36(Z.e),e.Y36(g.F0),e.Y36(b.yh))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-register"]],decls:12,vars:5,consts:[[3,"heroPageTitle"],[3,"errorMessage",4,"ngIf"],[1,"register","container"],[1,"form-wrap"],[3,"pageTitle"],[4,"ngIf"],["class","form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"have-account"],["routerLink","/auth/login"],[3,"errorMessage"],[1,"form",3,"formGroup","ngSubmit"],[1,"input-row"],["placeholder","Email *","type","text","formControlName","email",1,"input-field",3,"ngClass"],["placeholder","Password *","type","password","formControlName","password",1,"input-field",3,"ngClass"],["placeholder","Re-password *","type","password","formControlName","repeatPassword",1,"input-field",3,"ngClass"],["type","submit",1,"btn",3,"disabled"],["class","error",4,"ngIf"],[1,"error"]],template:function(n,r){1&n&&(e._UZ(0,"app-page-hero",0),e.YNc(1,ne,1,1,"app-notification",1),e.TgZ(2,"section",2)(3,"div",3),e._UZ(4,"app-page-title",4),e.YNc(5,oe,1,0,"app-loader",5),e.YNc(6,de,12,8,"form",6),e.TgZ(7,"div",7)(8,"p"),e._uU(9," You all ready have registration? "),e.TgZ(10,"a",8),e._uU(11,"Sign in"),e.qZA()()()()()),2&n&&(e.Q6J("heroPageTitle",r.heroTitle),e.xp6(1),e.Q6J("ngIf",r.error),e.xp6(3),e.Q6J("pageTitle",r.pageTitle),e.xp6(1),e.Q6J("ngIf",r.isLoading),e.xp6(1),e.Q6J("ngIf",!r.isLoading))},dependencies:[p.mk,p.O5,g.yS,O.R,y.N,N.T,J,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u],styles:[".form-wrap[_ngcontent-%COMP%]{background:#fff;margin:-3rem auto 12rem}.form[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;margin-top:5rem;padding:0 1rem}.input-row[_ngcontent-%COMP%]{position:relative;width:100%;max-width:30rem;display:flex;flex-direction:column;margin-bottom:2.5rem}.input-field[_ngcontent-%COMP%]{width:100%;padding:12px 10px;border:1px solid #e4e4e4;outline:none;border-radius:3px}.input-field[_ngcontent-%COMP%]:hover{border:1px solid #2a272a}.input-field[_ngcontent-%COMP%]:focus{box-shadow:0 0 3px 1px #00000078;border:1px solid #2a272a}.input-err[_ngcontent-%COMP%]{border:1px solid #dd1e31}.input-err[_ngcontent-%COMP%]:focus{box-shadow:0 0 3px 1px #dd1e3178}.error[_ngcontent-%COMP%]{color:#dd1e31}.have-account[_ngcontent-%COMP%]{text-align:center;margin:1rem}.have-account[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;color:#2a272a;font-weight:700;transform:scaleX(0);transition:all .3s ease-in-out}.have-account[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fc902e}"]}),t})()}]}];let _e=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[g.Bz.forChild(fe),g.Bz]}),t})(),he=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[p.ez,g.Bz,C.m,s.UX,_e]}),t})()},9475:(U,d,l)=>{l.d(d,{T:()=>C});var p=l(4650);let C=(()=>{class g{constructor(){}ngOnInit(){}}return g.\u0275fac=function(u){return new(u||g)},g.\u0275cmp=p.Xpm({type:g,selectors:[["app-page-title"]],inputs:{pageTitle:"pageTitle"},decls:3,vars:1,consts:[[1,"title-wrap"],[1,"title"]],template:function(u,c){1&u&&(p.TgZ(0,"div",0)(1,"h2",1),p._uU(2),p.qZA()()),2&u&&(p.xp6(2),p.Oqu(c.pageTitle))},styles:[".title-wrap[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-top:3rem}.title[_ngcontent-%COMP%]{color:#777;font-size:2.5rem;border-top:2px solid #777;border-bottom:2px solid #777}@media all and (max-width: 768px){.title-wrap[_ngcontent-%COMP%]{margin:0 1rem;text-align:center}.title[_ngcontent-%COMP%]{font-size:2rem}}"]}),g})()}}]);